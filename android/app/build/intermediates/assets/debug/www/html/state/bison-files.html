<ion-view view-title="Bison files" ng-init="init()">
    <ion-content class="has-header">
        <label class="item item-select ion icon ion-filing">
            <span class="">Show attribute</span>
            <select id="continue-select" class="bison-handwriting-xlarge" ng-options="item as item.name for item in items"
                    ng-model="mySelection.value">
                <option value="">Name</option>
            </select>
        </label>

        <div ng-show="mySelection.value.name">
            <h4 style="text-align: center">showing <span style="font-family:Lintsec; color: darkgrey">{{mySelection.value.name}}</span>
            </h4>
        </div>
        <div class="bison-border-gray bison-border-input">
            <label class="item item-input">
                <i class="ion icon ion-search"></i>
                <input id="files-search-input"
                       type="text"
                       class="bison-input-field"
                       ng-model="search.$"
                       placeholder="Search">
            </label>
        </div>

        <ion-list type="list inset">
            <ion-item ng-repeat="file in bisonFiles | filter:search track by $index">
                <div id="file-item-{{$index}}">
                    <pre>{{file.name}}</pre>
                    <p style="font-family: 'Roboto-Light', sans-serif"
                       ng-show="mySelection.value.prop"
                       ng-bind="file[mySelection.value.prop]"></p>
                    <ion-option-button id="files-delete-button-{{$index}}" class="button button-assertive ion icon ion-minus" ng-click="deleteFile(file)"></ion-option-button>
                    <ion-option-button id="files-send-button-{{$index}}" class="button button-positive ion icon ion-android-send" ng-click="sendFile(file)"></ion-option-button>
                    <ion-option-button id="files-open-button-{{$index}}" class="button button-balanced ion icon ion-android-add" ng-click="openFile(file)"></ion-option-button>
                    </div>
            </ion-item>
            <ion-item>
                <button class="button button-assertive button-block bison-rough-text" ng-click="consoleLog()">Log to Console</button>
            </ion-item>
            <ion-item>
                <pre>{{log|json}}</pre>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>